<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width">
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    <link rel="stylesheet" href="/fonts/dank-mono.css">
    <link rel="manifest" href="/manifest.webmanifest">
    <meta name="generator" content="Astro v1.6.2">
    <title>On Responsive Design&#39;s Dirty Little Secret | Snugug</title>
    <meta name="description" content="After having extensive conversations with John Albin Wilkins, I've realized that some of the basic assumptions I made when I first went to test this are in fact incorrect and that I was working under the wrong mental model. I am keeping up the original article as record.">
  <link rel="stylesheet" href="/assets/cookbook.40b0c718.css" />
<link rel="stylesheet" href="/assets/_slug_.baf2ea72.css" /><script type="module">"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js",{scope:"/"})});
</script></head>
  <body class="body">
    <style>astro-island,astro-slot{display:contents}</style><script>(self.Astro=self.Astro||{}).load=a=>{(async()=>await(await a())())()},window.dispatchEvent(new Event("astro:load"));var l;{const c={0:t=>t,1:t=>JSON.parse(t,o),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(JSON.parse(t,o)),5:t=>new Set(JSON.parse(t,o)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(JSON.parse(t)),9:t=>new Uint16Array(JSON.parse(t)),10:t=>new Uint32Array(JSON.parse(t))},o=(t,s)=>{if(t===""||!Array.isArray(s))return s;const[e,n]=s;return e in c?c[e](n):void 0};customElements.get("astro-island")||customElements.define("astro-island",(l=class extends HTMLElement{constructor(){super(...arguments);this.hydrate=()=>{if(!this.hydrator||this.parentElement&&this.parentElement.closest("astro-island[ssr]"))return;const s=this.querySelectorAll("astro-slot"),e={},n=this.querySelectorAll("template[data-astro-template]");for(const r of n){const i=r.closest(this.tagName);!i||!i.isSameNode(this)||(e[r.getAttribute("data-astro-template")||"default"]=r.innerHTML,r.remove())}for(const r of s){const i=r.closest(this.tagName);!i||!i.isSameNode(this)||(e[r.getAttribute("name")||"default"]=r.innerHTML)}const a=this.hasAttribute("props")?JSON.parse(this.getAttribute("props"),o):{};this.hydrator(this)(this.Component,a,e,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),window.removeEventListener("astro:hydrate",this.hydrate),window.dispatchEvent(new CustomEvent("astro:hydrate"))}}connectedCallback(){!this.hasAttribute("await-children")||this.firstChild?this.childrenConnectedCallback():new MutationObserver((s,e)=>{e.disconnect(),this.childrenConnectedCallback()}).observe(this,{childList:!0})}async childrenConnectedCallback(){window.addEventListener("astro:hydrate",this.hydrate);let s=this.getAttribute("before-hydration-url");s&&await import(s),this.start()}start(){const s=JSON.parse(this.getAttribute("opts")),e=this.getAttribute("client");if(Astro[e]===void 0){window.addEventListener(`astro:${e}`,()=>this.start(),{once:!0});return}Astro[e](async()=>{const n=this.getAttribute("renderer-url"),[a,{default:r}]=await Promise.all([import(this.getAttribute("component-url")),n?import(n):()=>()=>{}]),i=this.getAttribute("component-export")||"default";if(!i.includes("."))this.Component=a[i];else{this.Component=a;for(const d of i.split("."))this.Component=this.Component[d]}return this.hydrator=r,this.hydrate},s,this)}attributeChangedCallback(){this.hydrator&&this.hydrate()}},l.observedAttributes=["props"],l))}</script><astro-island uid="1hbtu9" component-url="/Menu.bd5d2339.js" component-export="default" renderer-url="/client.788af3ea.js" props="{}" ssr="" client="load" opts="{&quot;name&quot;:&quot;Menu&quot;,&quot;value&quot;:true}" await-children=""><div><button class="toggle svelte-1g8b6wp" aria-expanded="false" aria-label="Open menu"></button>

  <nav class="menu svelte-1g8b6wp" aria-expanded="false"><ul class="menu--list svelte-1g8b6wp"><li><a href="/" tabindex="-1">Home</a></li>
      <li><a href="/musings" tabindex="-1">Posts</a></li>
      <li><a href="/cookbook" tabindex="-1">Cookbook</a></li>
      <li><a href="/me" tabindex="-1">About</a></li>
      <li><a href="/presentations" tabindex="-1">Presentations</a></li>
      <li><a href="/rss.xml" tabindex="-1">RSS</a></li></ul></nav>
</div></astro-island>

    <main itemscope="" itemtype="http://schema.org/Blog" class="astro-UBUQI6KS">
    <article class="article astro-UBUQI6KS">
      <header class="article--heading astro-UBUQI6KS">
        <div class="heading heading--padded astro-3D5OBTLG" style="--hue: 25;--saturation: 30;--lightness: 80;--alpha: 0.2;--size: 125;">
  <h1 class="heading--title astro-3D5OBTLG" itemprop="name">On Responsive Design's Dirty Little Secret</h1>
</div>


      </header>
      <div class="article--container astro-UBUQI6KS">
        <div class="article--inner astro-UBUQI6KS">
          <p class="article--date astro-UBUQI6KS">
            <span class="astro-UBUQI6KS">
                  <span class="article--date-signifier astro-UBUQI6KS" aria-label="Updated on:">
                    U 
                  </span>
                  <span class="astro-UBUQI6KS">
                    1/29/2013
                  </span>
                  <span class="astro-UBUQI6KS"> / </span>
                  <span class="article--date-signifier astro-UBUQI6KS" aria-label="Published on:">
                    P 
                  </span>
                </span>
            <time datetime="2012-12-01T00:00:00.000Z" class="astro-UBUQI6KS">12/1/2012
            </time>
          </p>
          <div class="article--content type astro-UBUQI6KS"><aside class="note--warning"><p><strong>Update 1/29/2013</strong></p>
<p>After having extensive conversations with John Albin Wilkins, I’ve realized that some of the basic assumptions I made when I first went to test this are in fact incorrect and that I was working under the wrong mental model. When working under the correct mental model, the Isolation method clears rows perfectly fine; however, it’s a mental model significantly differently than the one I’m use to and anyone who has used traditional Float style grids or Susy are use to. I am keeping up the original article as record.</p>
</aside><p>If, for some reason, over the past few months you haven’t read <a href="https://twitter.com/johnalbin">John Albin Wilkins’</a> article <a href="http://palantir.net/blog/responsive-design-s-dirty-little-secret">Responsive Design’s Dirty Little Secret</a>. I highly suggest reading the whole article, as this is more or less a response to it. The basic gist of it is that browsers are really <em>really</em> bad at rounding percentages, and where it becomes a real issue is with percentage widths in Responsive Web Design. The issue stems from the fact that some browsers, when handed (or calculate) non-whole-pixel value, round only in one direction and not how we would round if we were doing it by hand. IE6 and IE7 round up, Opera and Webkit round down, and FireFox does sub-pixel rendering, which in a nutshell means they round correctly. This is an issue because, when calculating a bunch of fluid grids in, say, a responsive grid, the rounding errors compound upon themselves so being one pixel off on each of ten columns means the last column is 10 pixels off. This can present serious layout problems.</p>
<p>Except that it doesn’t.</p>
<p>We are going to be talking in terms of layouts as this is where the problem presents itself most usually. So, before we go any further, let’s define a couple of terms.</p>
<ul>
<li><strong>Float Method</strong>: The “standard” method for laying out items. A List Apart has a great writeup on <a href="http://www.alistapart.com/articles/css-floats-101/">CSS Floats</a>. Simply slap a percentage width on your item, use a CSS Float to push it around, and you’re set. Susceptible to compounding rounding errors.</li>
<li><strong>Isolation Method</strong>: The “new” way proposed by John in the above linked article. A bit more advanced. Named Isolation method as the method isolates the sub-pixel rounding issues. While still using percentage widths and CSS floats to push your item around, to finely tune the position you need to know where on the grid your item sits. Not susceptible to compounding rousing errors.</li>
<li><strong>Float Clearing</strong>: When working with items in CSS, if you want a container of a float based layout (witch both Float and Isolation methods are) to accommodate the the floats, you need to clear said floats. Peter-Paul Koch has a <a href="http://www.quirksmode.org/css/clearing.html">great introductory writeup</a> on the subject.</li>
<li><strong>Row Clearing</strong>: Row clearing is related to float clearing. If you’ve got row of items, you generally don’t want one row to bleed into another. Row clearing makes sure that this happens.</li>
</ul>
<p>Now here’s where things get interesting.</p>
<section>
<h2 id="sub-pixel-says-what" tabindex="-1"><a class="header-anchor" href="#sub-pixel-says-what">Sub-Pixel Says What?</a></h2>
<p>While John’s article makes some very valid points about sub-pixel rounding in his article, the truth of the matter is that it’s not as big of an issue as John makes it out to be on most browsers today. While he mentions IE6 and IE7 being total crap and rounding up and Webkit and Opera being no better and always rounding down, conveniently missing from that list is IE8 and up. Tyler Tate has a great writeup on <a href="http://tylertate.com/blog/2012/01/05/subpixel-rounding.html">Sub-Pixel Rounding in IE</a> which says, as it turns out, that IE8 and IE9 (and thus, presumably IE10) all do the same Sub-Pixel Rounding awesomeness that FireFox does! Oh, and Google Chrome? That does it too! So with an eye toward modern browsers, let’s take a look at who is exactly still effected by this issue.</p>
<p>According to the <a href="http://www.w3counter.com/globalstats.php">W3Counter October 2012 Global Web Stats</a> Top 10 Browsers, the current version of Chrome (which has the sub-pixel fix) has a 25.15% market share, IE8 and 9 have a combined 21.93% market share, and FireFox has a combined total 22.1% market share. That’s a grand total of 69.18% of global browser market totally unaffected by this Sub-Pixel Rendering issue. IE7 has a market share of 4.77%, with IE6 less than that (or unreported, can’t quite find exactly which). So, those two most atrocious offenders we shouldn’t need to worry about much anymore (unless, of course, you’re targeting, say, China). The rest of the 26 some odd percent is a combination of old browsers, Safari, and Mobile browsers which all (generally speaking) suffer from some sort of sub-pixel rounding issue, most of them having the round down issue. The long and short of the question “is sub-pixel rendering an issue for my site” is a matter of “it depends”.</p>
</section>
<section>
<h2 id="the-hidden-cost-of-outsmarting-the-browser" tabindex="-1"><a class="header-anchor" href="#the-hidden-cost-of-outsmarting-the-browser">The Hidden Cost Of Outsmarting The Browser</a></h2>
<p>Yup, mobile is still an issue. But remember that 10 pixel issue we had at the start? Well that’s a worst case scenario, in fact the whole sub-pixel rendering issue, is enflamed not because of how pervasive the issue is in general usage, but rather at these worst case scenarios. Besides, there are bigger things that we need to consider when working with Responsive Web Design.</p>
<p>While the Isolation method most certainly will solve the sub-pixel rounding issue across browsers, and especially on mobile where browser choice is limited and sub-pixel rendering issues are rampant, it does something that, in my opinion, is even worse than being a pixel or two off here and there. <strong>The Isolation method out and out breaks standard row clearing</strong>.</p>
</section>
<section>
<h2 id="isolation-methods-dirty-little-secret" tabindex="-1"><a class="header-anchor" href="#isolation-methods-dirty-little-secret">Isolation Method’s Dirty Little Secret</a></h2>
<p>Take a look at what standard row clearing looks like.</p>
<!-- ![Float Row Clearing](/sites/default/files/field/image/Float%20Row%20Clearing.png) -->
<p>Using the Float method, we get nice cleared rows with absolutely no extra markup. Why is this important? Well, for Responsive Web Design, we send one set of HTML down to the user and alter the layout using CSS. The Float method makes changing our layouts really easy without changing our markup because of its inherit row clearing abilities. Simply change your margins, widths, and floats at your given breakpoints and you’ve got a new grid! It’s awesome, it works really well, and it’s how <a href="http://susy.oddbird.net/">Susy</a>, one of my favorite Sass powered grid systems, works. But yes, it’s still affected by the sub-pixel rounding issue.</p>
<p>Let’s take a look at what row clearing looks like with the Isolation method.</p>
<!-- ![Isolation Row Clearing](/sites/default/files/field/image/Isolation%20Row%20Clearing.png) -->
<p>Those dark green parts? Those are the parts of the two rows that overlap each other. Yup! You read (and see) that right! The isolation method fixes the sub-pixel rounding issues by introducing an even worse issue, breaking row clearing! While float clearing still works, as you can see, rows clear based on the height of the last item in the row, not the tallest as in the Float method. Well how do we solve this? <strong><em>Welcome back wrapper divs!</em></strong> That’s right! In order to fix row clearing with the Isolation method, each row needs to be wrapped in a clearfixed div! And for each change in row arrangement you make as you change layouts, you need wrapper divs for each row! It’s not without its place in Responsive Web Design. If you’ve got major pieces of a site that are already cordoned off or naturally have wrappers around the rows you need, the Isolation method is a great method to use. This is what <a href="http://zengrids.com/">Zen Grids</a> uses.</p>
</section>
<section>
<h2 id="well-which-one-should-i-use" tabindex="-1"><a class="header-anchor" href="#well-which-one-should-i-use">Well Which One Should I Use?</a></h2>
<p>As with all great question in Web Development, the answer is, it depends. I tend to prefer the tradeoffs from Float method to the Isolation method, but many many people prefer the Isolation method. I tend to find that the sub-pixel rendering issues with the Float method don’t bite me in most of my day to day usage, but your mileage will vary.</p>
<hr>
</section>
<section>
<h2 id="postscript-what-if-i-want-to-use-both" tabindex="-1"><a class="header-anchor" href="#postscript-what-if-i-want-to-use-both">Postscript: What If I Want To Use Both?</a></h2>
<p>Well now that’s an interesting question. Because both the Float and the Isolation method have different use cases and do different things well, I find that sometimes I want to use the Float method and sometimes I want to use the Isolation method. To my knowledge, there’s only one grid system that allows you to switch your method based on when you need it. That’s <a href="https://github.com/scottkellum/singularity">Singularity GS</a>. Currently in the 1.0 preview (<code>gem install singularitygs --pre</code>) and then in the 1.0 itself and going forward, you can choose which output method you want to use and when! By default, Singularity will use the Isolation method, but if set a the variable <code>$output: 'float';</code>, TADA! You’ve switched to the Float method. But wait, you say. What if I want to swap between the two? Well in Singularity’s <code>grid-span</code> mixin, if you include the optional <code>$output</code> variable and set it to <code>'float'</code> or <code>'isolation'</code>. For example, if you had all of your output set to Float method you could change a single output to Isolation method by doing the following: <code>@include grid-span(1, 1, $output: 'isolation') {}</code>. I’ve been using this for a while, and I like it a lot.</p>
</section>
</div>
        </div>
      </div>
    </article>
  </main>

    <footer class="footer svelte-14m4qym"><div class="inner svelte-14m4qym"><img src="/images/me/square.jpg" alt="Headshot of Sam" class="headshot svelte-14m4qym" loading="lazy">
    <h2 class="svelte-14m4qym">Sam <br><span class="aka">aka</span> Snugug</h2>
    <p class="svelte-14m4qym">BBQ lead, ChromeOS DevRel</p>
    <p class="svelte-14m4qym">Web, design, development, food</p></div>
</footer>

    

    <script>(self.Astro=self.Astro||{}).only=t=>{(async()=>await(await t())())()},window.dispatchEvent(new Event("astro:only"));</script><astro-island uid="Z12xwGk" component-url="/Houdini.3bbc1370.js" component-export="default" renderer-url="/client.788af3ea.js" props="{}" ssr="" client="only" opts="{&quot;name&quot;:&quot;Houdini&quot;,&quot;value&quot;:true}"></astro-island>
  </body></html>

