<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>{% if title %}{{ title }} | {% endif %}Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- build:css /css/style.css -->
  <!-- Put CSS here -->
  <link rel="stylesheet" href="/css/style.css">
  <!-- endbuild -->
  {% block head %}{% endblock %}


  <script>
    (function () {
      'use strict';

      var fontURL = '/css/fonts.css',
          fonts,
          req,
          style,
          fontUrlLS;

      window.domCL = false;

      window.addEventListener('DOMContentLoaded', function () {
        window.domCL = true;
      });

      if (window.localStorage && document.querySelector && window.XMLHttpRequest) {
        fonts = localStorage.getItem('fonts');
        fontUrlLS = localStorage.getItem('fontURL');

        if (fonts && fontUrlLS === fontURL) {
          req = document.querySelector('link[rel="stylesheet"]');

          style = window.document.createElement('style');
          style.innerHTML = fonts;

          req.parentNode.insertBefore(style, req.nextSibling);
        }
        else {
          window.addEventListener('load', function () {
            req = new XMLHttpRequest();
            req.open('GET', '/css/fonts.css');
            req.onreadystatechange = function () {
              localStorage.setItem('fonts', req.responseText);
              localStorage.setItem('fontURL', fontURL);
            }
            req.send();
          });
        }
      }
    })();
  </script>
</head>
<body>
  {% block body %}{% endblock %}

  <!-- build:js /js/foo.js -->
  <!-- Put JS here -->
  <script src="/bower_components/prism/prism.js"></script>
  <script src="/bower_components/prism/components/prism-css.js"></script>
  <script src="/bower_components/prism/components/prism-css-extras.js"></script>
  <script src="/bower_components/prism/components/prism-scss.js"></script>
  <script src="/bower_components/prism/components/prism-bash.js"></script>
  <script src="/bower_components/prism/components/prism-markup.js"></script>
  <script src="/bower_components/prism/components/prism-javascript.js"></script>
  <script src="/js/app.js"></script>
  <!-- endbuild -->
</body>
</html>
